{"version":3,"sources":["main.js"],"names":["animItems","document","querySelectorAll","scrollAnimate","windowBottom","window","innerHeight","scrollY","forEach","el","scrollOffset","offsetTop","classList","add","hasAttribute","remove","length","console","log","addEventListener","body","querySelector","modalButtons","lockPadding","modalCloseButtons","timeout","currentCloseBtn","bodyWasLock","previousActiveElement","unlock","index","modalCurrentButton","e","modalName","dataset","path","curentModal","getElementById","modalOpen","setTimeout","focus","preventDefault","modalClose","closest","activeElement","modalActive","bodyLock","target","doUnlock","bodyUnlock","lockPaddingValue","innerWidth","offsetWidth","style","paddingRight","contains","DynamicAdapt","type","this","which","Element","prototype","css","node","matches","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","init","_this","оbjects","daClassname","nodes","i","dataArray","da","trim","split","оbject","element","parent","parentNode","destination","breakpoint","place","indexInParent","push","arraySort","mediaQueries","Array","map","call","item","filter","self","indexOf","media","mediaSplit","String","matchMedia","mediaBreakpoint","оbjectsFilter","addListener","mediaHandler","moveTo","moveBack","children","insertAdjacentElement","undefined","array","slice","arr","sort","a","b","isiPhone","navigator","userAgent","match","isiPad","isiPod","headerBurger","headerMenu","headerLink","md3","burgerToggle","toggle","disableScroll","pagePosition","scrollBehavior","position","top","enableScroll","parseInt","scroll","left","removeAttribute","scrollLock_BtnListener","searchInput","searchReset","value"],"mappings":"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","file":"main.js","sourcesContent":["// Includes\n// Animate In Scroll\r\n// class=\"animate-item\" data-animation='from-left' data-animation-once\r\nconst animItems = document.querySelectorAll('.animate-item');\r\n\r\nconst scrollAnimate = () => {\r\n\t// let windowCenter = (window.innerHeight / 2) + window.scrollY;\r\n\tlet windowBottom = window.innerHeight + window.scrollY - 300;\r\n\tanimItems.forEach((el) => {\r\n\t\tlet scrollOffset = el.offsetTop;\r\n\t\tif (windowBottom >= scrollOffset) {\r\n\t\t\tel.classList.add('animated')\r\n\t\t} else {\r\n\t\t\tlet animationRepeat = el.hasAttribute('data-animation-once');\r\n\t\t\tif (!animationRepeat) {\r\n\t\t\t\tel.classList.remove('animated')\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\nif (animItems.length != 0) {\r\n\tconsole.log('@ANIMATEONSCROLL: \"На странице есть елементы анимации. Функция scrollAnimate включена!\"')\r\n\tscrollAnimate()\r\n\twindow.addEventListener('scroll', () => {\r\n\t\tscrollAnimate()\r\n\t})\r\n} else {\r\n\tconsole.log('@ANIMATEONSCROLL: \"На странице нету елементов анимации, НО функция scrollAnimate включена! Возможно вам стоит её отключить?\"')\r\n}\r\n\r\n// -- //;\nconst body = document.querySelector('body')\r\nconst modalButtons = document.querySelectorAll('.modal-btn');\r\nconst lockPadding = document.querySelectorAll('.lock-padding');\r\n\r\nconst modalCloseButtons = document.querySelectorAll('.close-modal');\r\nconst timeout = 800;\r\nlet currentCloseBtn;\r\nlet unlock = true;\r\nlet bodyWasLock;\r\nif (lockPadding.length == 0) {\r\n\tconsole.log('@MODALS: \"Не забудьте добавить класс \"lock-padding\" фиксированным элементам!\"')\r\n}\r\nif (modalButtons.length > 0) {\r\n\tfor (let index = 0; index < modalButtons.length; index++) {\r\n\t\tconst modalCurrentButton = modalButtons[index];\r\n\t\tmodalCurrentButton.addEventListener(\"click\", function (e) {\r\n\t\t\tconst modalName = modalCurrentButton.dataset.path;\r\n\t\t\tconst curentModal = document.getElementById(modalName);\r\n\t\t\tif (curentModal != null) {\r\n\t\t\t\tconsole.log(`Открыто модальное окно: ${modalName}`);\r\n\t\t\t\tmodalOpen(curentModal);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tmodalCloseButtons.forEach((el) => {\r\n\t\t\t\t\t\tel.focus()\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 100)\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(`Такого модального окна нету! ${curentModal}`);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nif (modalCloseButtons.length > 0) {\r\n\tfor (let index = 0; index < modalCloseButtons.length; index++) {\r\n\t\tconst el = modalCloseButtons[index];\r\n\t\tcurrentCloseBtn = el;\r\n\t\tel.addEventListener('click', function (e) {\r\n\t\t\tmodalClose(el.closest('.modal'));\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\nlet previousActiveElement;\r\nfunction modalOpen(curentModal) {\r\n\tif (curentModal && unlock) {\r\n\t\tpreviousActiveElement = document.activeElement;\r\n\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\tif (modalActive) {\r\n\t\t\tmodalClose(modalActive, false);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbodyLock();\r\n\t\t}\r\n\t\tcurentModal.classList.add('open');\r\n\t\tcurentModal.addEventListener(\"mousedown\", function (e) {\r\n\t\t\tif (!e.target.closest('.modal__content')) {\r\n\t\t\t\tmodalClose(e.target.closest('.modal'));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\nfunction modalClose(modalActive, doUnlock = true) {\r\n\tif (unlock) {\r\n\t\tmodalActive.classList.remove('open');\r\n\t\tif (doUnlock) {\r\n\t\t\tbodyUnlock();\r\n\t\t}\r\n\t}\r\n\tsetTimeout(function () {\r\n\t\tpreviousActiveElement.focus();\r\n\t}, timeout);\r\n\r\n}\r\n\r\nfunction bodyLock() {\r\n\tconst lockPaddingValue = window.innerWidth - body.offsetWidth + 'px';\r\n\tif (lockPadding.length > 0) {\r\n\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\tconst el = lockPadding[index];\r\n\t\t\tel.style.paddingRight = lockPaddingValue;\r\n\t\t}\r\n\t}\r\n\r\n\tbody.style.paddingRight = lockPaddingValue;\r\n\tif (!body.classList.contains('lock')) {\r\n\t\tbodyWasLock = true;\r\n\t\tbody.classList.add('lock');\r\n\t} else {\r\n\t\tbodyWasLock = false;\r\n\t}\r\n\tunlock = false;\r\n\tsetTimeout(function () {\r\n\t\tunlock = true;\r\n\t}, timeout);\r\n}\r\nfunction bodyUnlock() {\r\n\tsetTimeout(function () {\r\n\t\tif (lockPadding.length > 0) {\r\n\t\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\t\tconst el = lockPadding[index];\r\n\t\t\t\tel.style.paddingRight = '0px';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbody.style.paddingRight = '0px';\r\n\t\tif (bodyWasLock == true) {\r\n\t\t\tbody.classList.remove('lock');\r\n\t\t}\r\n\t}, timeout);\r\n}\r\n\r\ndocument.addEventListener('keydown', function (e) {\r\n\tif (document.querySelector('.modal.open')) {\r\n\t\tif (e.which === 27) {\r\n\t\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\t\tmodalClose(modalActive);\r\n\t\t}\r\n\t}\r\n});\r\n(function () {\r\n\tif (!Element.prototype.closest) {\r\n\t\tElement.prototype.closest = function (css) {\r\n\t\t\tvar node = this;\r\n\t\t\twhile (node) {\r\n\t\t\t\tif (node.matches(css)) return node;\r\n\t\t\t\telse node = node.parentElement;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t}\r\n})();\r\n(function () {\r\n\tif (!Element.prototype.matches) {\r\n\t\tElement.prototype.matches = Element.prototype.matchesSelector ||\r\n\t\t\tElement.prototype.webkitMatchesSelector ||\r\n\t\t\tElement.prototype.mozMatchesSelector ||\r\n\t\t\tElement.prototype.msMatchesSelector;\r\n\t}\r\n})();;\n// Dynamic Adapt v.1\n// HTML data-da=\"where(uniq class name),when(breakpoint),position(digi)\"\n// e.x. data-da=\".item,992,2\"\n\nfunction DynamicAdapt(type) {\n\tthis.type = type;\n}\n\nDynamicAdapt.prototype.init = function () {\n\tconst _this = this;\n\t// массив объектов\n\tthis.оbjects = [];\n\tthis.daClassname = \"_dynamic_adapt_\";\n\t// массив DOM-элементов\n\tthis.nodes = document.querySelectorAll(\"[data-da]\");\n\n\t// наполнение оbjects объктами\n\tfor (let i = 0; i < this.nodes.length; i++) {\n\t\tconst node = this.nodes[i];\n\t\tconst data = node.dataset.da.trim();\n\t\tconst dataArray = data.split(\",\");\n\t\tconst оbject = {};\n\t\tоbject.element = node;\n\t\tоbject.parent = node.parentNode;\n\t\tоbject.destination = document.querySelector(dataArray[0].trim());\n\t\tоbject.breakpoint = dataArray[1] ? dataArray[1].trim() : \"767\";\n\t\tоbject.place = dataArray[2] ? dataArray[2].trim() : \"last\";\n\t\tоbject.index = this.indexInParent(оbject.parent, оbject.element);\n\t\tthis.оbjects.push(оbject);\n\t}\n\n\tthis.arraySort(this.оbjects);\n\n\t// массив уникальных медиа-запросов\n\tthis.mediaQueries = Array.prototype.map.call(this.оbjects, function (item) {\n\t\treturn '(' + this.type + \"-width: \" + item.breakpoint + \"px),\" + item.breakpoint;\n\t}, this);\n\tthis.mediaQueries = Array.prototype.filter.call(this.mediaQueries, function (item, index, self) {\n\t\treturn Array.prototype.indexOf.call(self, item) === index;\n\t});\n\n\t// навешивание слушателя на медиа-запрос\n\t// и вызов обработчика при первом запуске\n\tfor (let i = 0; i < this.mediaQueries.length; i++) {\n\t\tconst media = this.mediaQueries[i];\n\t\tconst mediaSplit = String.prototype.split.call(media, ',');\n\t\tconst matchMedia = window.matchMedia(mediaSplit[0]);\n\t\tconst mediaBreakpoint = mediaSplit[1];\n\n\t\t// массив объектов с подходящим брейкпоинтом\n\t\tconst оbjectsFilter = Array.prototype.filter.call(this.оbjects, function (item) {\n\t\t\treturn item.breakpoint === mediaBreakpoint;\n\t\t});\n\t\tmatchMedia.addListener(function () {\n\t\t\t_this.mediaHandler(matchMedia, оbjectsFilter);\n\t\t});\n\t\tthis.mediaHandler(matchMedia, оbjectsFilter);\n\t}\n};\n\nDynamicAdapt.prototype.mediaHandler = function (matchMedia, оbjects) {\n\tif (matchMedia.matches) {\n\t\tfor (let i = 0; i < оbjects.length; i++) {\n\t\t\tconst оbject = оbjects[i];\n\t\t\tоbject.index = this.indexInParent(оbject.parent, оbject.element);\n\t\t\tthis.moveTo(оbject.place, оbject.element, оbject.destination);\n\t\t}\n\t} else {\n\t\tfor (let i = 0; i < оbjects.length; i++) {\n\t\t\tconst оbject = оbjects[i];\n\t\t\tif (оbject.element.classList.contains(this.daClassname)) {\n\t\t\t\tthis.moveBack(оbject.parent, оbject.element, оbject.index);\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Функция перемещения\nDynamicAdapt.prototype.moveTo = function (place, element, destination) {\n\telement.classList.add(this.daClassname);\n\tif (place === 'last' || place >= destination.children.length) {\n\t\tdestination.insertAdjacentElement('beforeend', element);\n\t\treturn;\n\t}\n\tif (place === 'first') {\n\t\tdestination.insertAdjacentElement('afterbegin', element);\n\t\treturn;\n\t}\n\tdestination.children[place].insertAdjacentElement('beforebegin', element);\n}\n\n// Функция возврата\nDynamicAdapt.prototype.moveBack = function (parent, element, index) {\n\telement.classList.remove(this.daClassname);\n\tif (parent.children[index] !== undefined) {\n\t\tparent.children[index].insertAdjacentElement('beforebegin', element);\n\t} else {\n\t\tparent.insertAdjacentElement('beforeend', element);\n\t}\n}\n\n// Функция получения индекса внутри родителя\nDynamicAdapt.prototype.indexInParent = function (parent, element) {\n\tconst array = Array.prototype.slice.call(parent.children);\n\treturn Array.prototype.indexOf.call(array, element);\n};\n\n// Функция сортировки массива по breakpoint и place \n// по возрастанию для this.type = min\n// по убыванию для this.type = max\nDynamicAdapt.prototype.arraySort = function (arr) {\n\tif (this.type === \"min\") {\n\t\tArray.prototype.sort.call(arr, function (a, b) {\n\t\t\tif (a.breakpoint === b.breakpoint) {\n\t\t\t\tif (a.place === b.place) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\tif (a.place === \"first\" || b.place === \"last\") {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\n\t\t\t\tif (a.place === \"last\" || b.place === \"first\") {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\n\t\t\t\treturn a.place - b.place;\n\t\t\t}\n\n\t\t\treturn a.breakpoint - b.breakpoint;\n\t\t});\n\t} else {\n\t\tArray.prototype.sort.call(arr, function (a, b) {\n\t\t\tif (a.breakpoint === b.breakpoint) {\n\t\t\t\tif (a.place === b.place) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\tif (a.place === \"first\" || b.place === \"last\") {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\n\t\t\t\tif (a.place === \"last\" || b.place === \"first\") {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\n\t\t\t\treturn b.place - a.place;\n\t\t\t}\n\n\t\t\treturn b.breakpoint - a.breakpoint;\n\t\t});\n\t\treturn;\n\t}\n};\n\nconst da = new DynamicAdapt(\"max\");\nda.init();;\n// -- //\n\nconst isiPhone = (navigator.userAgent.match(/iPhone/i) != null);\nconst isiPad = (navigator.userAgent.match(/iPad/i) != null);\nconst isiPod = (navigator.userAgent.match(/iPod/i) != null);\n\n\n// Burger Menu\nconst headerBurger = document.querySelector('.header__burger');\nconst headerMenu = document.querySelector('.header__menu');\nconst headerLink = document.querySelectorAll('.header__link');\nconst md3 = window.matchMedia(\"(max-width: 767px)\");\n\nfunction burgerToggle() {\n\theaderBurger.classList.toggle('active');\n\theaderMenu.classList.toggle('active');\n\tbody.classList.toggle('lock');\n}\n\nheaderBurger.addEventListener('click', () => {\n\tburgerToggle()\n})\n// IOS Scroll Fix\nlet disableScroll = () => {\n\tlet pagePosition = window.scrollY;\n\tdocument.querySelector('html').style.scrollBehavior = 'auto';\n\tdocument.body.classList.add('ios-lock');\n\tdocument.body.dataset.position = pagePosition;\n\tdocument.body.style.top = -pagePosition + 'px';\n}\n\nlet enableScroll = () => {\n\tlet pagePosition = parseInt(document.body.dataset.position, 10);\n\tdocument.body.style.top = 'auto';\n\tdocument.body.classList.remove('ios-lock');\n\twindow.scroll({ top: pagePosition, left: 0 });\n\tdocument.querySelector('html').removeAttribute('style');\n\tdocument.body.removeAttribute('data-position');\n}\n\nlet scrollLock_BtnListener = (item) => {\n\titem.addEventListener('click', (e) => {\n\t\titem.classList.toggle('scroll')\n\t\tif (item.classList.contains('scroll')) {\n\t\t\tdisableScroll();\n\t\t} else {\n\t\t\tenableScroll();\n\t\t}\n\t});\n}\n\nif (isiPhone || isiPad || isiPod) {\n\tscrollLock_BtnListener(headerBurger);\n}\n\nif (md3.matches) {\n\theaderLink.forEach((el) => {\n\t\tel.addEventListener('click', () => {\n\t\t\tif (isiPhone || isiPad || isiPod) {\n\t\t\t\tenableScroll()\n\t\t\t\theaderBurger.classList.toggle('scroll')\n\t\t\t}\n\t\t\tsetTimeout(() => {\n\t\t\t\tburgerToggle()\n\t\t\t}, 100)\n\t\t})\n\t})\n}\n// -- //\n\nconst searchInput = document.querySelector('.search-form__input');\nconst searchReset = document.querySelector('.search-form__reset');\nsearchInput.addEventListener('keyup', () => {\n\n\tif (searchInput.value != '') {\n\t\tsearchReset.classList.add('search-form__reset--visible')\n\t} else {\n\t\tsearchReset.classList.remove('search-form__reset--visible')\n\t}\n})\nsearchReset.addEventListener('click', () => {\n\tsearchReset.classList.remove('search-form__reset--visible')\n})\n"]}