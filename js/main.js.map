{"version":3,"sources":["main.js"],"names":["animItems","document","querySelectorAll","scrollAnimate","windowBottom","window","innerHeight","scrollY","forEach","el","scrollOffset","offsetTop","classList","add","hasAttribute","remove","length","console","log","addEventListener","disableScroll","pagePosition","querySelector","style","scrollBehavior","body","dataset","position","top","enableScroll","parseInt","scroll","left","removeAttribute","scrollLock_BtnListener","item","e","toggle","contains","modalButtons","lockPadding","modalCloseButtons","timeout","currentCloseBtn","bodyWasNotLock","previousActiveElement","unlock","index","modalCurrentButton","modalName","path","curentModal","getElementById","modalOpen","setTimeout","focus","preventDefault","modalClose","closest","activeElement","modalActive","bodyLock","target","doUnlock","bodyUnlock","lockPaddingValue","innerWidth","offsetWidth","paddingRight","isiPhone","isiPad","isiPod","DynamicAdapt","type","this","which","Element","prototype","css","node","matches","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","init","_this","оbjects","daClassname","nodes","i","dataArray","transfer","trim","split","оbject","element","parent","parentNode","destination","breakpoint","place","indexInParent","push","arraySort","mediaQueries","Array","map","call","filter","self","indexOf","media","mediaSplit","String","matchMedia","mediaBreakpoint","оbjectsFilter","addListener","mediaHandler","moveTo","moveBack","children","insertAdjacentElement","undefined","array","slice","arr","sort","a","b","da","navigator","userAgent","match","headerBurger","headerMenu","headerLink","md3","burgerToggle","searchInput","searchReset","value","categoriesSwiperSelector","categoriesSwiper","categoriesSwipermobileInit","mobile","Swiper","containerModifierClass","wrapperClass","slideClass","slidesPerView","pagination","breakpoints","320","450","560","700","destroy","departmentsBtn","departmentsBody","overlay","showDepartments"],"mappings":"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","file":"main.js","sourcesContent":["//Includes\n// Animate In Scroll\r\n// class=\"animate-item\" data-animation='from-left' data-animation-once\r\nconst animItems = document.querySelectorAll('.animate-item');\r\n\r\nconst scrollAnimate = () => {\r\n\t// let windowCenter = (window.innerHeight / 2) + window.scrollY;\r\n\tlet windowBottom = window.innerHeight + window.scrollY - 300;\r\n\tanimItems.forEach((el) => {\r\n\t\tlet scrollOffset = el.offsetTop;\r\n\t\tif (windowBottom >= scrollOffset) {\r\n\t\t\tel.classList.add('animated')\r\n\t\t} else {\r\n\t\t\tlet animationRepeat = el.hasAttribute('data-animation-once');\r\n\t\t\tif (!animationRepeat) {\r\n\t\t\t\tel.classList.remove('animated')\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\nif (animItems.length != 0) {\r\n\tconsole.log('@ANIMATEONSCROLL: \"На странице есть елементы анимации. Функция scrollAnimate включена!\"')\r\n\tscrollAnimate()\r\n\twindow.addEventListener('scroll', () => {\r\n\t\tscrollAnimate()\r\n\t})\r\n} else {\r\n\tconsole.log('@ANIMATEONSCROLL: \"На странице нету елементов анимации, НО функция scrollAnimate включена! Возможно вам стоит её отключить?\"')\r\n}\r\n\r\n// -- //;\n// scrollLockIOS\r\n// Выключение скролла\r\nlet disableScroll = () => {\r\n\tlet pagePosition = window.scrollY;\r\n\tdocument.querySelector('html').style.scrollBehavior = 'auto';\r\n\tdocument.body.classList.add('ios-lock');\r\n\tdocument.body.dataset.position = pagePosition;\r\n\tdocument.body.style.top = -pagePosition + 'px';\r\n}\r\n\r\n// Включение скролла\r\nlet enableScroll = () => {\r\n\tlet pagePosition = parseInt(document.body.dataset.position, 10);\r\n\tdocument.body.style.top = 'auto';\r\n\tdocument.body.classList.remove('ios-lock');\r\n\twindow.scroll({ top: pagePosition, left: 0 });\r\n\tdocument.querySelector('html').removeAttribute('style');\r\n\tdocument.body.removeAttribute('data-position');\r\n}\r\n\r\n// Слушательна один элемент\r\nlet scrollLock_BtnListener = (item) => {\r\n\titem.addEventListener('click', (e) => {\r\n\t\titem.classList.toggle('scroll')\r\n\t\tif (item.classList.contains('scroll')) {\r\n\t\t\tdisableScroll();\r\n\t\t} else {\r\n\t\t\tenableScroll();\r\n\t\t}\r\n\t});\r\n}\nconst body = document.querySelector('body')\r\nconst modalButtons = document.querySelectorAll('.modal-btn');\r\nconst lockPadding = document.querySelectorAll('.lock-padding');\r\nconst modalCloseButtons = document.querySelectorAll('.close-modal');\r\nconst timeout = 800;\r\nlet currentCloseBtn;\r\nlet unlock = true;\r\nlet bodyWasNotLock;\r\n\r\n// Проверки\r\nif (lockPadding.length == 0) {\r\n\tconsole.log('@MODALS: \"Не забудьте добавить класс \"lock-padding\" фиксированным элементам!\"')\r\n}\r\nif (typeof (disableScroll) == 'function' && typeof (enableScroll)) {\r\n\tconsole.log(`Тип данных переменных \"disableScroll\" и \"enableScroll\": \"${typeof (disableScroll)}\"! Для IOS будет выполнятся скрипт scrollLockIOS`);\r\n} else {\r\n\tconsole.log(`Тип данных переменных \"disableScroll\" и \"enableScroll\": \"${typeof (disableScroll)} и ${typeof (enableScroll)}\"! Для IOS НЕ будет выполнятся скрипт scrollLockIOS`);\r\n}\r\n// -- //\r\nif (modalButtons.length > 0) {\r\n\tfor (let index = 0; index < modalButtons.length; index++) {\r\n\t\tconst modalCurrentButton = modalButtons[index];\r\n\t\tmodalCurrentButton.addEventListener(\"click\", function (e) {\r\n\t\t\tconst modalName = modalCurrentButton.dataset.path;\r\n\t\t\tconst curentModal = document.getElementById(modalName);\r\n\t\t\tif (curentModal != null) {\r\n\t\t\t\tconsole.log(`Открыто модальное окно: ${modalName}`);\r\n\t\t\t\tmodalOpen(curentModal);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tmodalCloseButtons.forEach((el) => {\r\n\t\t\t\t\t\tel.focus()\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 100)\r\n\t\t\t\te.preventDefault();\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(`Такого модального окна нету! ${curentModal}`);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nif (modalCloseButtons.length > 0) {\r\n\tfor (let index = 0; index < modalCloseButtons.length; index++) {\r\n\t\tconst el = modalCloseButtons[index];\r\n\t\tcurrentCloseBtn = el;\r\n\t\tel.addEventListener('click', function (e) {\r\n\t\t\tmodalClose(el.closest('.modal'));\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\nlet previousActiveElement;\r\nfunction modalOpen(curentModal) {\r\n\tif (curentModal && unlock) {\r\n\t\tpreviousActiveElement = document.activeElement;\r\n\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\tif (modalActive) {\r\n\t\t\tmodalClose(modalActive, false);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbodyLock();\r\n\t\t}\r\n\t\tcurentModal.classList.add('open');\r\n\t\tcurentModal.addEventListener(\"mousedown\", function (e) {\r\n\t\t\tif (!e.target.closest('.modal__content')) {\r\n\t\t\t\tmodalClose(e.target.closest('.modal'));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\nfunction modalClose(modalActive, doUnlock = true) {\r\n\tif (unlock) {\r\n\t\tmodalActive.classList.remove('open');\r\n\t\tif (doUnlock) {\r\n\t\t\tbodyUnlock();\r\n\t\t}\r\n\t}\r\n\tsetTimeout(function () {\r\n\t\tpreviousActiveElement.focus();\r\n\t}, timeout);\r\n\r\n}\r\n\r\nfunction bodyLock() {\r\n\tconst lockPaddingValue = window.innerWidth - body.offsetWidth + 'px';\r\n\tif (lockPadding.length > 0) {\r\n\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\tconst el = lockPadding[index];\r\n\t\t\tel.style.paddingRight = lockPaddingValue;\r\n\t\t}\r\n\t}\r\n\tbody.style.paddingRight = lockPaddingValue;\r\n\tif (!body.classList.contains('lock')) {\r\n\t\tbodyWasNotLock = true;\r\n\t\tif (typeof (disableScroll) === \"function\") {\r\n\r\n\t\t\tif (isiPhone || isiPad || isiPod) {\r\n\t\t\t\tdisableScroll();\r\n\t\t\t} else {\r\n\t\t\t\tbody.classList.add('lock');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tbody.classList.add('lock');\r\n\t\t}\r\n\t} else {\r\n\t\tbodyWasNotLock = false;\r\n\t}\r\n\tunlock = false;\r\n\tsetTimeout(function () {\r\n\t\tunlock = true;\r\n\t}, timeout);\r\n}\r\n\r\nfunction bodyUnlock() {\r\n\tsetTimeout(function () {\r\n\t\tif (lockPadding.length > 0) {\r\n\t\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\t\tconst el = lockPadding[index];\r\n\t\t\t\tel.style.paddingRight = '0px';\r\n\t\t\t}\r\n\t\t}\r\n\t\tbody.style.paddingRight = '0px';\r\n\t\tif (bodyWasNotLock == true) {\r\n\t\t\tif (typeof (enableScroll) === \"function\") {\r\n\t\t\t\tif (isiPhone || isiPad || isiPod) {\r\n\t\t\t\t\tenableScroll();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbody.classList.remove('lock');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbody.classList.remove('lock');\r\n\t\t\t}\r\n\t\t}\r\n\t}, timeout);\r\n}\r\n\r\ndocument.addEventListener('keydown', function (e) {\r\n\tif (document.querySelector('.modal.open')) {\r\n\t\tif (e.which === 27) {\r\n\t\t\tconst modalActive = document.querySelector('.modal.open');\r\n\t\t\tmodalClose(modalActive);\r\n\t\t}\r\n\t}\r\n});\r\n(function () {\r\n\tif (!Element.prototype.closest) {\r\n\t\tElement.prototype.closest = function (css) {\r\n\t\t\tvar node = this;\r\n\t\t\twhile (node) {\r\n\t\t\t\tif (node.matches(css)) return node;\r\n\t\t\t\telse node = node.parentElement;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t}\r\n})();\r\n(function () {\r\n\tif (!Element.prototype.matches) {\r\n\t\tElement.prototype.matches = Element.prototype.matchesSelector ||\r\n\t\t\tElement.prototype.webkitMatchesSelector ||\r\n\t\t\tElement.prototype.mozMatchesSelector ||\r\n\t\t\tElement.prototype.msMatchesSelector;\r\n\t}\r\n})();;\n// HTML data-transfer=\"where(uniq class name),when(breakpoint),position(digi)\"\n// e.x. data-transfer=\".item,992,2\"\n\nfunction DynamicAdapt(type) {\n\tthis.type = type;\n}\n\nDynamicAdapt.prototype.init = function () {\n\tconst _this = this;\n\t// массив объектов\n\tthis.оbjects = [];\n\tthis.daClassname = \"_dynamic_adapt_\";\n\t// массив DOM-элементов\n\tthis.nodes = document.querySelectorAll(\"[data-transfer]\");\n\n\t// наполнение оbjects объктами\n\tfor (let i = 0; i < this.nodes.length; i++) {\n\t\tconst node = this.nodes[i];\n\t\tconst data = node.dataset.transfer.trim();\n\t\tconst dataArray = data.split(\",\");\n\t\tconst оbject = {};\n\t\tоbject.element = node;\n\t\tоbject.parent = node.parentNode;\n\t\tоbject.destination = document.querySelector(dataArray[0].trim());\n\t\tоbject.breakpoint = dataArray[1] ? dataArray[1].trim() : \"767\";\n\t\tоbject.place = dataArray[2] ? dataArray[2].trim() : \"last\";\n\t\tоbject.index = this.indexInParent(оbject.parent, оbject.element);\n\t\tthis.оbjects.push(оbject);\n\t}\n\n\tthis.arraySort(this.оbjects);\n\n\t// массив уникальных медиа-запросов\n\tthis.mediaQueries = Array.prototype.map.call(this.оbjects, function (item) {\n\t\treturn '(' + this.type + \"-width: \" + item.breakpoint + \"px),\" + item.breakpoint;\n\t}, this);\n\tthis.mediaQueries = Array.prototype.filter.call(this.mediaQueries, function (item, index, self) {\n\t\treturn Array.prototype.indexOf.call(self, item) === index;\n\t});\n\n\t// навешивание слушателя на медиа-запрос\n\t// и вызов обработчика при первом запуске\n\tfor (let i = 0; i < this.mediaQueries.length; i++) {\n\t\tconst media = this.mediaQueries[i];\n\t\tconst mediaSplit = String.prototype.split.call(media, ',');\n\t\tconst matchMedia = window.matchMedia(mediaSplit[0]);\n\t\tconst mediaBreakpoint = mediaSplit[1];\n\n\t\t// массив объектов с подходящим брейкпоинтом\n\t\tconst оbjectsFilter = Array.prototype.filter.call(this.оbjects, function (item) {\n\t\t\treturn item.breakpoint === mediaBreakpoint;\n\t\t});\n\t\tmatchMedia.addListener(function () {\n\t\t\t_this.mediaHandler(matchMedia, оbjectsFilter);\n\t\t});\n\t\tthis.mediaHandler(matchMedia, оbjectsFilter);\n\t}\n};\n\nDynamicAdapt.prototype.mediaHandler = function (matchMedia, оbjects) {\n\tif (matchMedia.matches) {\n\t\tfor (let i = 0; i < оbjects.length; i++) {\n\t\t\tconst оbject = оbjects[i];\n\t\t\tоbject.index = this.indexInParent(оbject.parent, оbject.element);\n\t\t\tthis.moveTo(оbject.place, оbject.element, оbject.destination);\n\t\t}\n\t} else {\n\t\tfor (let i = 0; i < оbjects.length; i++) {\n\t\t\tconst оbject = оbjects[i];\n\t\t\tif (оbject.element.classList.contains(this.daClassname)) {\n\t\t\t\tthis.moveBack(оbject.parent, оbject.element, оbject.index);\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Функция перемещения\nDynamicAdapt.prototype.moveTo = function (place, element, destination) {\n\telement.classList.add(this.daClassname);\n\tif (place === 'last' || place >= destination.children.length) {\n\t\tdestination.insertAdjacentElement('beforeend', element);\n\t\treturn;\n\t}\n\tif (place === 'first') {\n\t\tdestination.insertAdjacentElement('afterbegin', element);\n\t\treturn;\n\t}\n\tdestination.children[place].insertAdjacentElement('beforebegin', element);\n}\n\n// Функция возврата\nDynamicAdapt.prototype.moveBack = function (parent, element, index) {\n\telement.classList.remove(this.daClassname);\n\tif (parent.children[index] !== undefined) {\n\t\tparent.children[index].insertAdjacentElement('beforebegin', element);\n\t} else {\n\t\tparent.insertAdjacentElement('beforeend', element);\n\t}\n}\n\n// Функция получения индекса внутри родителя\nDynamicAdapt.prototype.indexInParent = function (parent, element) {\n\tconst array = Array.prototype.slice.call(parent.children);\n\treturn Array.prototype.indexOf.call(array, element);\n};\n\n// Функция сортировки массива по breakpoint и place \n// по возрастанию для this.type = min\n// по убыванию для this.type = max\nDynamicAdapt.prototype.arraySort = function (arr) {\n\tif (this.type === \"min\") {\n\t\tArray.prototype.sort.call(arr, function (a, b) {\n\t\t\tif (a.breakpoint === b.breakpoint) {\n\t\t\t\tif (a.place === b.place) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\tif (a.place === \"first\" || b.place === \"last\") {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\n\t\t\t\tif (a.place === \"last\" || b.place === \"first\") {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\n\t\t\t\treturn a.place - b.place;\n\t\t\t}\n\n\t\t\treturn a.breakpoint - b.breakpoint;\n\t\t});\n\t} else {\n\t\tArray.prototype.sort.call(arr, function (a, b) {\n\t\t\tif (a.breakpoint === b.breakpoint) {\n\t\t\t\tif (a.place === b.place) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\tif (a.place === \"first\" || b.place === \"last\") {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\n\t\t\t\tif (a.place === \"last\" || b.place === \"first\") {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\n\t\t\t\treturn b.place - a.place;\n\t\t\t}\n\n\t\t\treturn b.breakpoint - a.breakpoint;\n\t\t});\n\t\treturn;\n\t}\n};\n\nconst da = new DynamicAdapt(\"max\");\nda.init();;\n// -- //\n\nconst isiPhone = (navigator.userAgent.match(/iPhone/i) != null);\nconst isiPad = (navigator.userAgent.match(/iPad/i) != null);\nconst isiPod = (navigator.userAgent.match(/iPod/i) != null);\n\n\n// Burger Menu\nconst headerBurger = document.querySelector('.header__burger');\nconst headerMenu = document.querySelector('.header__menu');\nconst headerLink = document.querySelectorAll('.header__link');\nconst md3 = window.matchMedia(\"(max-width: 767px)\");\n\nfunction burgerToggle() {\n\theaderBurger.classList.toggle('active');\n\theaderMenu.classList.toggle('active');\n\tbody.classList.toggle('lock');\n}\n\nheaderBurger.addEventListener('click', () => {\n\tburgerToggle()\n})\n\nif (isiPhone || isiPad || isiPod) {\n\tscrollLock_BtnListener(headerBurger);\n}\n\nif (md3.matches) {\n\theaderLink.forEach((el) => {\n\t\tel.addEventListener('click', () => {\n\t\t\tif (isiPhone || isiPad || isiPod) {\n\t\t\t\tenableScroll()\n\t\t\t\theaderBurger.classList.toggle('scroll')\n\t\t\t}\n\t\t\tsetTimeout(() => {\n\t\t\t\tburgerToggle()\n\t\t\t}, 100)\n\t\t})\n\t})\n}\n// -- //\n// Search Input Clear\nconst searchInput = document.querySelector('.search-form__input');\nconst searchReset = document.querySelector('.search-form__reset');\nsearchInput.addEventListener('keyup', () => {\n\n\tif (searchInput.value != '') {\n\t\tsearchReset.classList.add('search-form__reset--visible')\n\t} else {\n\t\tsearchReset.classList.remove('search-form__reset--visible')\n\t}\n})\nsearchReset.addEventListener('click', () => {\n\tsearchReset.classList.remove('search-form__reset--visible')\n})\n\n// Swiper\nconst categoriesSwiperSelector = document.querySelector('.categories__swiper');\nlet categoriesSwiper;\nlet categoriesSwipermobileInit = () => {\n\tif (window.innerWidth <= 991 && categoriesSwiperSelector.dataset.mobile == 'false') {\n\t\tcategoriesSwiper = new Swiper(categoriesSwiperSelector, {\n\t\t\tcontainerModifierClass: \"categories__swiper\",\n\t\t\twrapperClass: \"swiper__wrapper\",\n\t\t\tslideClass: \"swiper__slide\",\n\t\t\tslidesPerView: 4,\n\t\t\tpagination: {\n\t\t\t\tel: '.categories__swiper-pagination',\n\t\t\t\ttype: 'progressbar',\n\t\t\t},\n\t\t\tbreakpoints: {\n\t\t\t\t320: {\n\t\t\t\t\tslidesPerView: 3,\n\n\t\t\t\t},\n\t\t\t\t450: {\n\t\t\t\t\tslidesPerView: 4,\n\n\t\t\t\t},\n\t\t\t\t560: {\n\t\t\t\t\tslidesPerView: 5,\n\t\t\t\t},\n\t\t\t\t700: {\n\t\t\t\t\tslidesPerView: 6,\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tcategoriesSwiperSelector.dataset.mobile = 'true';\n\t}\n\tif (window.innerWidth > 991) {\n\t\tcategoriesSwiperSelector.dataset.mobile = 'false';\n\t\tif (categoriesSwiperSelector.classList.contains('categories__swiperinitialized')) {\n\t\t\tcategoriesSwiper.destroy();\n\t\t}\n\t}\n}\ncategoriesSwipermobileInit();\n\nwindow.addEventListener('resize', () => {\n\tcategoriesSwipermobileInit()\n})\n// -- //\n\n// Departments Block\n\nconst departmentsBtn = document.querySelector('.departments__btn');\nconst departmentsBody = document.querySelector('.departments__body');\nconst overlay = document.querySelector('.overlay');\n\nconst showDepartments = () => {\n\tdepartmentsBody.classList.toggle('departments__body--show');\n\toverlay.classList.toggle('overlay--show');\n\tsetTimeout(() => {\n\t\tdepartmentsBtn.classList.toggle('departments__btn--close');\n\t}, 150);\n}\n\ndepartmentsBtn.addEventListener('click', () => {\n\tshowDepartments()\n})\n\noverlay.addEventListener('click', () => {\n\tshowDepartments()\n})"]}